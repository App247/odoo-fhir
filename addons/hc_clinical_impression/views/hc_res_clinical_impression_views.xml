<openerp>
    <data>
    
        <!-- Clinical Impression Views -->

        <record id="hc_res_clinical_impression_view_search" model="ir.ui.view">         
            <field name="name">Clinical Impression Search</field>       
            <field name="model">hc.res.clinical.impression</field>      
            <field name="arch" type="xml">      
                <search string="Clinical Impressions">
                    <field name="name"/>  
                </search>   
            </field>        
        </record>           
                    
        <record id="hc_res_clinical_impression_view_tree" model="ir.ui.view">           
            <field name="name">Clinical Impression Tree</field>     
            <field name="model">hc.res.clinical.impression</field>      
            <field name="arch" type="xml">      
                <tree string="Clinical Impressions">    
                    <field name="name"/>
                </tree> 
            </field>        
        </record>           
    
        <record id="hc_res_clinical_impression_view_form" model="ir.ui.view">                                     
            <field name="name">Clinical Impression Form</field>                                   
            <field name="model">hc.res.clinical.impression</field>                                    
            <field name="arch" type="xml">                                  
                <form string="Clinical Impression">                               
                    <sheet>                         
                        <h1>                    
                            <field name="name" default_focus="1" placeholder="Event Name"/>             
                        </h1>                   
                        <group>                     
                            <group>                 
                            </group>                    
                            <group>                 
                            </group>                    
                        </group>                        
                        <notebook>
                            <page string="Investigations">                 
                                <field name="investigation_ids" mode="tree">               
                                    <tree>          
                                    </tree>         
                                    <form>          
                                        <sheet>     
                                            <group> 
                                                <group>
                                                </group>
                                                <group>
                                                </group>
                                            </group>    
                                        </sheet>        
                                    </form>         
                                </field>                
                            </page>
                            <page string="Findings">                 
                                <field name="finding_ids" mode="tree">               
                                    <tree>          
                                    </tree>         
                                    <form>          
                                        <sheet>     
                                            <group> 
                                                <group>
                                                </group>
                                                <group>
                                                </group>
                                            </group>    
                                        </sheet>        
                                    </form>         
                                </field>                
                            </page>                      
                            <page string="Identifiers">                 
                                <field name="identifier_ids" mode="tree">               
                                    <tree>          
                                    </tree>         
                                    <form>          
                                        <sheet>     
                                            <group> 
                                                <group>
                                                </group>
                                                <group>
                                                </group>
                                            </group>    
                                        </sheet>        
                                    </form>         
                                </field>                
                            </page>
                            <page string="Problems">                 
                                <field name="problem_ids" mode="tree">               
                                    <tree>          
                                    </tree>         
                                    <form>          
                                        <sheet>     
                                            <group> 
                                                <group>
                                                    <field name="problem_name"/>
                                                    <field name="problem_type" class="oe_edit_only"/>
                                                    <field name="problem_condition_id" class="oe_edit_only" attrs="{'invisible': [('problem_type','!=','condition')]}"/>
                                                    <field name="problem_allergy_intolerance_id" class="oe_edit_only" attrs="{'invisible': [('problem_type','!=','allergy_intolerance')]}"/>
                                                </group>
                                                <group>
                                                </group>
                                            </group>    
                                        </sheet>        
                                    </form>         
                                </field>                
                            </page>
                            <page string="Protocols">                 
                                <field name="protocol_ids" mode="tree">               
                                    <tree>          
                                    </tree>         
                                    <form>          
                                        <sheet>     
                                            <group> 
                                                <group>
                                                </group>
                                                <group>
                                                </group>
                                            </group>    
                                        </sheet>        
                                    </form>         
                                </field>                
                            </page>
                            <page string="Prognosis Refs">                 
                                <field name="prognosis_reference_ids" mode="tree">               
                                    <tree>          
                                    </tree>         
                                    <form>          
                                        <sheet>     
                                            <group> 
                                                <group>
                                                </group>
                                                <group>
                                                </group>
                                            </group>    
                                        </sheet>        
                                    </form>         
                                </field>                
                            </page>
                             <page string="Actions">                 
                                <field name="action_ids" mode="tree">               
                                    <tree>          
                                    </tree>         
                                    <form>          
                                        <sheet>     
                                            <group> 
                                                <group>
                                                    <field name="action_name"/>
                                                        <field name="action_type" class="oe_edit_only"/>
                                                        <field name="action_referral_request_id" class="oe_edit_only" attrs="{'invisible': [('action_type','!=','referral_request')]}"/>
                                                        <field name="action_procedure_request_id" class="oe_edit_only" attrs="{'invisible': [('action_type','!=','procedure_request')]}"/>
                                                        <field name="action_procedure_id" class="oe_edit_only" attrs="{'invisible': [('action_type','!=','procedure')]}"/>
                                                        <field name="action_medication_request_id" class="oe_edit_only" attrs="{'invisible': [('action_type','!=','medication_request')]}"/>
                                                        <field name="action_appointment_id" class="oe_edit_only" attrs="{'invisible': [('action_type','!=','appointment')]}"/>
                                                </group>
                                                <group>
                                                </group>
                                            </group>    
                                        </sheet>        
                                    </form>         
                                </field>                
                            </page>
                            <page string="Notes">                       
                                <field name="note_ids" mode="tree">                 
                                    <tree>              
                                        <field name="text"/>            
                                        <field name="author_type"/>         
                                        <field name="recorded_date"/>           
                                    </tree>             
                                    <form>              
                                        <sheet>         
                                            <div>       
                                                <field name="text" placeholder="Annotation"/>   
                                            </div>      
                                            <group>     
                                                <group> 
                                                    <field name="author_name"/>
                                                    <field name="author_type" class="oe_edit_only"/>
                                                    <field name="author_string" class="oe_edit_only" attrs="{'invisible': [('author_type','!=','string')]}"/>
                                                    <field name="author_practitioner_id" class="oe_edit_only" attrs="{'invisible': [('author_type','!=','practitioner')]}"/>
                                                    <field name="author_patient_id" class="oe_edit_only" attrs="{'invisible': [('author_type','!=','patient')]}"/>
                                                    <field name="author_related_person_id" class="oe_edit_only" attrs="{'invisible': [('author_type','!=','related_person')]}"/>
                                                </group>    
                                                <group> 
                                                    <field name="recorded_date"/>
                                                </group>    
                                            </group>        
                                        </sheet>            
                                    </form>             
                                </field>                    
                            </page>                     
                        </notebook>                     
                    </sheet>                            
                </form>                             
            </field>                                    
        </record>                                       
 
        <act_window id="hc_res_clinical_impression_action"  
                    name="HC Clinical Impressions"
                    res_model="hc.res.clinical.impression"
                    view_mode="tree,form"
                    domain=""
                    context=""
                    limit=""/>

        <menuitem id="hc_clinical_impression.menu_clinic_imp" 
                  name="Clinical Impressions"
                  web_icon="hc_clinical_impression,static/description/icon.png"  
                  parent="hc_base.menu_clinic_gen" 
                  action="hc_res_clinical_impression_action" 
                  groups="hc_base.group_hc_base_manager" 
                  sequence="50"/>

        <!-- External Reference -->

        <record id="hc_res_condition_view_form_inherited" model="ir.ui.view">     
            <field name="name">Condition Form Inherited</field>   
            <field name="model">hc.res.condition</field>   
            <field name="inherit_id" ref="hc_condition.hc_res_condition_view_form"/>   
            <field name="arch" type="xml">
                <xpath expr="//field[@name='assessment_ids']//form//group//field[@name='assessment_type']" position="after">
                    <field name="assessment_observation_id" class="oe_edit_only" attrs="{'invisible': [('assessment_type','!=','observation')]}"/>
                    <field name="assessment_clinical_impression_id" class="oe_edit_only" attrs="{'invisible': [('assessment_type','!=','clinical_impression')]}"/>
                    <field name="assessment_diagnostic_report_id" class="oe_edit_only" attrs="{'invisible': [('assessment_type','!=','diagnostic_report')]}"/>
                </xpath>
            </field>
        </record>

    </data>
</openerp>